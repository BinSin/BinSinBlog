---
title: "D3"
date: 2018-07-24
thumbnailImagePosition: left
thumbnailImage: http://d2sobhai8a0tcj.cloudfront.net/thumbnail/d3.jpg
coverImage: http://d2sobhai8a0tcj.cloudfront.net/thumbnail/D3cover.png
metaAlignment: center
coverMeta: out
categories:
- JavaScript
- D3
tags:
- JavaScript
- D3
- Data-Driven Documents
---

# Data-Driven Documents
[D3.js](https://ko.wikipedia.org/wiki/D3.js)(D3 또는 Data-Driven Documents)는 웹브라우저 상에서 동적이고 인터렉티브한 정보시각화를 구현하기 위한 자바스크립트 라이브러리이다.
<!--more-->

## D3 Start
- [D3홈페이지](https://d3js.org/) 에서 라이브러리를 다운
- 직접 스크립트 요소에 src 속성을 추가
```html
<script src="https://d3js.org/d3.v5.min.js"></script>
```


## Basic D3 Visualization Pattern
- select() or selectAll()
- data()
- enter()
- append()


### D3 Selections
- d3.select() : 첫번째로 매칭되는 요소만 선택
- d3.selectAll() : 매칭되는 모든 요소 선택

이들은 2차 배열 형태로 리턴되는데 select 는 처음에 만난 요소만 리턴해주고 selectAll 은 모든 요소를 리턴해준다.

```html
<p>Hello World</p>
<p class="fancy-paragraph">Evening Gown Required</p>
<p class="fancy-paragraph" style="color:red;">Tuxedo Required</p>
```
여기서
```JavaScript
d3.select("p")[0]
d3.selectAll("'p")[0]
```
를 해주면 </br>
d3.select 는 [p] 만 리턴하고 </br
d3.selectAll 은 [p, p.fancy-paragraph, p.fancy-paragraph] 모두를 리턴한다.


### D3 Arrays
D3's canonical representation if Data is Arrays

- JavaScript Array Mutator Methods
```JavaScript
var array = [0 , 5, 10, 7, -2, 4];
array.reverse(); // 배열을 거꾸로
array.shift(); // 배열 섞기
array.sort(); // 배열 정렬
array.splice(1, 2); // 1~2까지만 선택하여 리턴해주고 버리기
array.splice(1, 1, "banana") // 1번째에서 1개를 버리고 "banana" 추가
array.unshift(5, 10, 7); // 5, 10, 7을 앞에 추가하고 길이 리턴
```

- JavaScript Array Accessor Methods
```JavaScript
var array = [0 , 5, 10, 7, -2, 4, 5];
var array2 = [1, 2];
array.concat(array2); // 뒤에 array2를 추가
array.join(); // 모든 요소를 string으로 리턴
array.slice(1, 4); // array의 1~3 까지의 요소를 리턴(array 변화 x)
array.slice(1); // 1부터 모든 요소를 리턴
array.indexOf(5) // 첫번째로 요소가 5인 인텍스 위치 리턴 -> 1
array.lastIndexOf(5); // 마지막으로 요소가 5인 인텍스 위치 리턴 ->
```

- Basic D3 Array Utilities
```JavaScript
var array = [0 , 5, 10, 7, -2, 4, 5];
d3.min(array); // 최소값 -> -2
d3.max(array); // 최대값 -> 10
d3.extent(array); // 최소값, 최대값 배열로 리턴
d3.sum(array); // 모든 요소의 합
d3.mean(array); // 평균값 -> d3.sum(array)/array.length
d3.median(array); // 중간값 -> 5
```
